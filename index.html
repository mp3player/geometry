<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin:0;padding:0;}
        canvas{
            position:absolute;
        }
        .tools {
            position:absolute;top:0;left:0;width:100%;height:60px;background:red;
        }
        .tools ul {
            display:flex;list-style:none;
        }
        .tools ul li {
            min-width:50px;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <!-- <div class="tools">
        <ul>
            <li>pen</li>
            <li>eraser</li>
        </ul>
    </div> -->
    <script type="module">
        // import Express from './collection/express.js'
        import Stack from './collection/stack.js'

        import Painter from './shape/container/painter.js'
        import Circle from './shape/polygon/circle.js'
        import Polygon from './shape/polygon/polygon.js'
        import Ring from './shape/ring/ring.js'
        import Rectange from './shape/polygon/rectangle.js'
        import Line from './shape/path/line.js'
        import Vector from './math/vector.js'
        import Complex from './math/complex.js'
        import Calc from './math/calc.js'
        import ShapeLib from './math/shapeLib.js'

        import Axes from './util/component/axes.js'
        import Grid from './util/component/grid.js'

        import PerlinNoise from './math/noise/PerlinNoise.js'

        import ImageMap,{Color} from './shape/image/image.js'

        import LinearExpression from './shape/polynomial/linear-expression.js'
        import SquareExpression from './shape/polynomial/square-expression.js'
        import PolynomialExpression from './shape/polynomial/polynomial-expression.js'

        import {bubbleSort} from './math/sort.js'
        import Convex from './math/convex.js'
        import Cursor from './util/component/cursor.js'
        import Scale from './util/component/scale.js'
        import {Join} from './constant/Constant.js'

        import {dft,idft,eulor} from './fourier/dft.js'


        let painter = new Painter(canvas);


        let axes = new Axes(Color.RED,Color.GREEN);
        let grid = new Grid(10,10);

        painter.add(grid);
        painter.add(axes);
        painter.on('mousedown',function(e){
            console.log(e)
        })
        painter.on('mousemove',function(e){
            if(this.mousePress)
                console.log(this)
        })
        painter.on('mousewheel',function(e){
            this.translate(e)
            this.render()
        })

        // let x = [-10.05, 9.75, 19.85, 29.95, -0.05, -29.95, -20.35,-10.05];
        // let y = [19.75, 19.95, 29.75, 19.85, -10.25, 20.05, 29.55,19.75];

        // let nl = JSON.parse('[[-19.65,13.75],[-19.95,13.75],[-20.05,13.65],[-20.25,13.55],[-20.65,13.25],[-21.05,13.05],[-21.45,12.85],[-22.15,12.35],[-22.65,11.75],[-23.15,11.35],[-23.45,10.85],[-23.65,10.25],[-23.75,9.55],[-23.85,8.95],[-23.85,8.55],[-23.65,8.15],[-23.45,7.75],[-23.25,7.45],[-22.95,7.05],[-22.75,6.85],[-22.55,6.75],[-22.35,6.65],[-22.15,6.65],[-21.85,6.65],[-21.65,6.75],[-21.45,6.85],[-21.15,7.05],[-20.85,7.15],[-20.65,7.25],[-20.45,7.45],[-20.15,7.85],[-19.85,8.25],[-19.65,8.65],[-19.45,9.05],[-19.35,9.35],[-19.25,9.75],[-19.25,10.15],[-19.25,10.75],[-19.25,11.15],[-19.25,11.55],[-19.25,11.85],[-19.25,12.15],[-19.25,12.35],[-19.25,12.55],[-19.15,12.85],[-19.15,13.05],[-19.15,13.25],[-19.15,13.35],[-19.15,13.45],[-19.15,13.45],[-19.15,13.45],[-19.15,13.25],[-19.15,13.05],[-19.15,12.85],[-19.15,12.75],[-19.15,12.35],[-18.95,11.45],[-18.95,10.35],[-18.95,9.55],[-19.05,9.05],[-19.05,8.45],[-19.05,7.65],[-19.15,6.55],[-19.15,5.85],[-19.15,5.05],[-19.25,4.55],[-19.35,4.25],[-19.45,3.95],[-19.65,3.55],[-19.75,3.15],[-19.85,2.85],[-20.05,2.55],[-20.15,2.45],[-20.35,2.15],[-20.45,1.95],[-20.65,1.85],[-20.85,1.65],[-20.95,1.65],[-21.15,1.45],[-21.35,1.35],[-21.65,1.25],[-21.75,1.25],[-22.15,1.15],[-22.45,1.05],[-22.55,1.05],[-22.75,1.05],[-22.95,1.05],[-22.95,1.05],[-23.05,1.05],[-23.15,1.15],[-23.15,1.25],[-23.15,1.25],[-23.15,1.45],[-22.95,1.65],[-22.85,1.75],[-22.45,2.15],[-22.25,2.35],[-22.05,2.55],[-21.75,2.95],[-21.35,3.25],[-21.05,3.55],[-20.65,4.05],[-20.05,4.55],[-19.15,5.25],[-18.55,5.65],[-18.05,6.15],[-17.45,6.65],[-16.95,7.15],[-16.45,7.45],[-15.95,7.95],[-15.25,8.55],[-14.65,8.95],[-14.15,9.35],[-13.55,9.75],[-13.25,10.05],[-12.95,10.25],[-12.75,10.65],[-12.65,10.75],[-12.55,10.75],[-12.55,10.75],[-12.45,10.75],[-12.45,10.65],[-12.55,10.45],[-12.75,10.25],[-12.85,9.85],[-13.05,9.45],[-13.35,8.95],[-13.45,8.45],[-13.65,8.05],[-13.85,7.65],[-13.85,7.25],[-13.85,6.95],[-13.75,6.55],[-13.65,6.15],[-13.45,5.75],[-13.25,5.35],[-13.05,5.15],[-12.85,5.05],[-12.75,4.95],[-12.55,4.85],[-12.35,4.85],[-12.15,4.85],[-11.75,4.85],[-11.35,5.05],[-11.05,5.25],[-10.75,5.45],[-10.35,5.85],[-10.05,6.15],[-9.75,6.45],[-9.45,6.75],[-9.25,7.05],[-9.05,7.35],[-8.95,7.45],[-8.95,7.85],[-8.95,8.05],[-9.05,8.25],[-9.25,8.55],[-9.35,8.85],[-9.45,8.95],[-9.65,9.15],[-9.75,9.35],[-9.85,9.55],[-10.05,9.65],[-10.15,9.75],[-10.35,9.85],[-10.45,9.85],[-10.55,9.85],[-10.65,9.85],[-10.75,9.85],[-10.85,9.85],[-10.95,9.85],[-11.05,9.85],[-11.05,9.85],[-11.05,9.75],[-11.15,9.75],[-11.25,9.75],[-11.25,9.65],[-11.25,9.65],[-11.35,9.45],[-11.35,9.35],[-11.35,9.15],[-11.35,9.05],[-11.35,8.85],[-11.25,8.65],[-11.25,8.45],[-11.15,8.35],[-11.05,8.35],[-11.05,8.35],[-10.85,8.25],[-10.55,8.15],[-10.25,8.15],[-9.85,8.15],[-9.25,8.15],[-8.75,8.15],[-8.35,8.25],[-7.95,8.35],[-7.55,8.55],[-7.05,8.65],[-6.55,8.85],[-5.95,9.15],[-5.55,9.45],[-5.15,9.65],[-4.65,9.95],[-4.35,10.15],[-3.95,10.35],[-3.85,10.45],[-3.55,10.55],[-3.45,10.65],[-3.35,10.75],[-3.15,10.85],[-3.15,10.85],[-3.15,10.85],[-3.15,10.85],[-3.25,10.85],[-3.35,10.75],[-3.45,10.75],[-3.65,10.65],[-3.75,10.45],[-3.85,10.35],[-3.95,10.15],[-4.05,9.95],[-4.05,9.75],[-4.15,9.35],[-4.15,9.05],[-4.15,8.75],[-4.15,8.25],[-4.15,7.85],[-4.15,7.45],[-4.05,7.15],[-4.05,6.85],[-3.95,6.65],[-3.85,6.55],[-3.85,6.45],[-3.75,6.35],[-3.55,6.25],[-3.25,6.15],[-3.05,6.05],[-2.75,6.05],[-2.55,6.05],[-2.15,6.05],[-1.75,6.05],[-1.25,6.05],[-0.95,6.15],[-0.75,6.25],[-0.45,6.55],[-0.15,6.75],[0.25,6.95],[0.55,7.25],[0.75,7.35],[1.05,7.55],[1.25,7.65],[1.25,7.75],[1.25,7.95],[1.25,8.05],[1.25,8.15],[1.25,8.35],[1.15,8.55],[1.05,8.75],[0.95,8.85],[0.85,9.05],[0.75,9.15],[0.55,9.25],[0.35,9.45],[0.05,9.55],[-0.25,9.75],[-0.45,9.75],[-0.65,9.85],[-0.75,9.85],[-0.95,9.85],[-1.05,9.85],[-1.25,9.85],[-1.35,9.85],[-1.35,9.85],[-1.45,9.85],[-1.55,9.85],[-1.55,9.75],[-1.55,9.65],[-1.25,9.55],[-1.05,9.35],[-0.85,9.25],[-0.65,9.15],[-0.45,9.05],[-0.25,9.05],[-0.05,8.95],[0.25,8.85],[0.55,8.85],[0.65,8.75],[0.95,8.75],[1.15,8.75],[1.35,8.75],[1.55,8.75],[1.85,8.75],[2.35,8.85],[2.75,8.85],[3.15,8.85],[3.55,8.85],[3.95,8.95],[4.35,9.05],[4.65,9.15],[4.95,9.25],[5.45,9.45],[5.95,9.55],[6.35,9.65],[6.65,9.85],[7.05,9.95],[7.35,10.05],[7.55,10.15],[7.65,10.25],[7.75,10.35],[7.75,10.45],[7.75,10.45],[7.75,10.45],[7.75,10.45],[7.75,10.45],[7.75,10.45],[7.65,10.45],[7.55,10.35],[7.45,10.15],[7.35,10.05],[7.15,9.95],[7.05,9.75],[6.85,9.65],[6.75,9.45],[6.65,9.35],[6.55,9.25],[6.45,9.05],[6.35,8.85],[6.25,8.65],[6.05,8.25],[6.05,7.75],[5.95,7.35],[5.85,6.95],[5.85,6.55],[5.85,6.35],[5.85,6.25],[5.85,6.05],[5.85,6.05],[5.85,5.95],[5.85,5.85],[5.95,5.75],[6.05,5.65],[6.15,5.55],[6.35,5.55],[6.85,5.35],[7.25,5.25],[7.65,5.25],[7.95,5.25],[8.15,5.25],[8.35,5.25],[8.45,5.35],[8.55,5.55],[8.65,5.75],[8.85,5.85],[9.05,6.25],[9.25,6.85],[9.45,7.55],[9.75,8.25],[10.05,9.05],[10.25,9.75],[10.55,10.45],[10.75,11.25],[11.05,11.95],[11.25,12.45],[11.35,12.85],[11.35,13.35],[11.45,14.05],[11.45,14.45],[11.45,14.75],[11.45,15.05],[11.55,15.35],[11.55,15.55],[11.65,16.05],[11.65,16.45],[11.75,16.75],[11.75,17.15],[11.85,17.45],[11.85,17.75],[11.85,17.95],[11.85,18.05],[11.85,18.15],[11.95,18.25],[11.95,18.25],[11.95,18.15],[11.95,17.85],[11.85,17.45],[11.75,17.05],[11.65,16.75],[11.55,16.45],[11.35,15.65],[11.25,14.95],[11.15,14.15],[11.05,13.05],[11.05,12.45],[11.05,11.95],[11.05,11.35],[11.05,10.95],[11.05,10.55],[11.05,10.05],[11.15,9.75],[11.15,9.45],[11.15,9.25],[11.15,9.15],[11.15,8.95],[11.15,8.85],[11.15,8.65],[11.35,8.45],[11.55,8.25],[11.75,7.95],[11.95,7.65],[12.25,7.45],[12.45,7.25],[12.55,7.15],[12.75,7.05],[12.95,6.95],[13.15,6.85],[13.45,6.65],[13.65,6.55],[13.95,6.45],[14.15,6.35],[14.35,6.25],[14.55,6.25],[14.75,6.25],[14.95,6.25],[15.15,6.25],[15.45,6.25],[15.55,6.25],[15.55,6.25],[15.65,6.25],[15.65,6.25],[15.65,6.25],[15.65,6.25],[15.65,6.25]]')
        // let nl = JSON.parse('[[0.05,10.25],[0.25,10.55],[0.45,10.85],[0.65,11.25],[0.85,11.65],[1.05,12.05],[1.25,12.45],[1.45,12.85],[1.65,13.15],[1.95,13.55],[2.15,13.75],[2.45,14.05],[2.65,14.35],[2.85,14.65],[2.95,14.85],[3.05,14.95],[3.15,15.15],[3.35,15.25],[3.45,15.45],[3.55,15.65],[3.75,15.85],[3.85,16.05],[4.15,16.55],[4.45,16.85],[4.65,17.15],[4.85,17.45],[5.15,17.75],[5.35,18.05],[5.55,18.25],[5.75,18.45],[5.95,18.65],[6.25,18.75],[6.45,18.85],[6.75,19.05],[7.05,19.15],[7.35,19.45],[7.65,19.65],[7.85,19.75],[8.15,19.95],[8.55,20.15],[8.95,20.35],[9.25,20.55],[9.65,20.75],[9.95,20.85],[10.35,21.05],[10.65,21.15],[11.05,21.25],[11.25,21.25],[11.55,21.25],[11.75,21.25],[11.95,21.35],[12.25,21.35],[12.45,21.35],[12.65,21.35],[12.85,21.35],[13.35,21.35],[13.65,21.35],[13.85,21.35],[14.15,21.35],[14.35,21.25],[14.65,21.15],[14.85,21.15],[15.05,21.15],[15.25,21.05],[15.55,21.05],[15.75,20.95],[15.95,20.85],[16.15,20.85],[16.35,20.75],[16.55,20.75],[16.65,20.65],[16.85,20.55],[17.05,20.45],[17.25,20.35],[17.35,20.15],[17.55,20.05],[17.75,19.95],[17.85,19.85],[18.05,19.75],[18.25,19.55],[18.35,19.45],[18.55,19.35],[18.75,19.15],[19.05,18.85],[19.25,18.65],[19.35,18.45],[19.55,18.25],[19.65,18.15],[19.85,18.05],[19.95,17.85],[19.95,17.75],[20.15,17.45],[20.25,17.25],[20.35,17.05],[20.45,16.75],[20.55,16.55],[20.65,16.45],[20.75,16.25],[20.75,15.95],[20.95,15.75],[21.15,15.45],[21.25,15.05],[21.45,14.75],[21.55,14.35],[21.55,14.05],[21.65,13.85],[21.65,13.65],[21.65,13.45],[21.65,13.25],[21.65,13.05],[21.65,12.85],[21.65,12.45],[21.65,12.05],[21.65,11.75],[21.75,11.35],[21.65,11.05],[21.55,10.85],[21.55,10.75],[21.45,10.55],[21.35,10.35],[21.25,10.15],[21.15,9.95],[21.05,9.75],[21.05,9.55],[20.85,9.25],[20.65,8.95],[20.55,8.85],[20.35,8.65],[20.25,8.55],[20.05,8.45],[19.95,8.35],[19.85,8.25],[19.65,8.05],[19.45,7.75],[19.25,7.55],[19.05,7.35],[18.95,7.15],[18.85,6.95],[18.55,6.65],[18.35,6.35],[18.15,6.05],[17.95,5.95],[17.85,5.65],[17.75,5.45],[17.65,5.25],[17.55,5.05],[17.35,4.75],[17.15,4.45],[16.95,4.15],[16.75,3.95],[16.55,3.65],[16.25,3.45],[16.05,3.15],[15.85,2.85],[15.55,2.65],[15.35,2.35],[15.15,2.15],[15.05,2.05],[14.95,1.85],[14.85,1.75],[14.75,1.55],[14.55,1.45],[14.45,1.35],[14.35,1.35],[14.25,1.15],[14.05,0.75],[13.85,0.75],[13.55,0.55],[13.15,0.25],[12.85,0.05],[12.65,-0.15],[12.25,-0.35],[11.95,-0.45],[11.65,-0.55],[11.55,-0.65],[11.35,-0.65],[11.25,-0.75],[11.05,-0.85],[10.95,-0.95],[10.75,-1.05],[10.65,-1.15],[10.45,-1.15],[10.35,-1.25],[10.15,-1.45],[10.05,-1.45],[9.85,-1.55],[9.65,-1.65],[9.55,-1.75],[9.35,-1.85],[9.25,-1.95],[9.15,-2.05],[8.95,-2.15],[8.75,-2.25],[8.65,-2.35],[8.55,-2.45],[8.35,-2.65],[8.15,-2.75],[7.85,-3.05],[7.65,-3.25],[7.55,-3.45],[7.35,-3.55],[7.15,-3.75],[6.95,-3.85],[6.65,-3.95],[6.45,-4.05],[6.25,-4.25],[6.05,-4.45],[5.95,-4.65],[5.85,-4.75],[5.65,-4.95],[5.55,-5.05],[5.35,-5.15],[5.25,-5.25],[5.15,-5.35],[4.95,-5.55],[4.85,-5.65],[4.75,-5.75],[4.65,-5.85],[4.55,-6.05],[4.35,-6.15],[4.25,-6.25],[4.15,-6.35],[4.05,-6.55],[3.95,-6.65],[3.85,-6.85],[3.85,-6.95],[3.75,-7.05],[3.65,-7.25],[3.35,-7.55],[3.25,-7.85],[3.15,-8.05],[3.15,-8.15],[3.05,-8.25],[2.95,-8.45],[2.85,-8.55],[2.85,-8.65],[2.75,-8.75],[2.65,-8.95],[2.55,-9.05],[2.55,-9.15],[2.55,-9.25],[2.45,-9.35],[2.35,-9.55],[2.25,-9.65],[2.15,-9.75],[2.05,-9.95],[1.95,-10.05],[1.85,-10.15],[1.75,-10.25],[1.65,-10.35],[1.65,-10.45],[1.65,-10.55],[1.55,-10.65],[1.55,-10.75],[1.55,-10.85],[1.45,-11.05],[1.45,-11.15],[1.35,-11.25],[1.35,-11.45],[1.35,-11.55],[1.25,-11.65],[1.25,-11.65],[1.25,-11.75],[1.25,-11.95],[1.25,-12.05],[1.15,-12.15],[1.15,-12.35],[1.05,-12.45],[1.05,-12.55],[1.05,-12.55],[1.05,-12.55],[1.05,-12.65],[1.05,-12.85],[0.95,-13.15],[0.95,-13.25],[0.95,-13.45],[0.95,-13.65],[0.85,-13.75],[0.85,-13.95],[0.85,-14.05],[0.85,-14.25],[0.85,-14.35],[0.75,-14.55],[0.75,-14.55],[0.75,-14.65],[0.75,-14.65],[0.65,-14.75],[0.65,-14.75],[0.65,-14.85],[0.65,-14.95],[0.65,-14.95],[0.65,-15.05],[0.65,-15.15],[0.65,-15.25],[0.65,-15.25],[0.65,-15.35],[0.55,-15.45],[0.55,-15.45],[0.55,-15.55],[0.55,-15.65],[0.55,-15.75],[0.45,-15.85],[0.45,-15.95],[0.45,-16.05],[0.45,-16.15],[0.45,-16.25],[0.45,-16.25],[0.45,-16.45],[0.45,-16.55],[0.45,-16.75],[0.45,-16.85],[0.45,-16.95],[0.35,-17.05],[0.35,-17.15],[0.25,-17.35],[0.15,-17.55],[0.15,-17.65],[0.15,-17.85],[0.15,-17.95],[0.15,-18.15],[0.15,-18.35],[0.15,-18.45],[0.15,-18.55],[0.15,-18.55],[0.15,-18.65],[0.15,-18.65],[0.05,-18.55],[0.05,-18.45],[-0.05,-18.25],[-0.05,-18.15],[-0.15,-18.05],[-0.25,-17.85],[-0.35,-17.75],[-0.45,-17.65],[-0.55,-17.55],[-0.65,-17.45],[-0.65,-17.35],[-0.75,-17.25],[-0.85,-17.05],[-0.85,-16.85],[-0.95,-16.65],[-0.95,-16.45],[-1.05,-16.25],[-1.05,-16.05],[-1.05,-15.95],[-1.15,-15.75],[-1.15,-15.75],[-1.15,-15.65],[-1.15,-15.55],[-1.25,-15.45],[-1.25,-15.35],[-1.25,-15.25],[-1.35,-15.05],[-1.35,-14.95],[-1.35,-14.85],[-1.45,-14.75],[-1.55,-14.55],[-1.55,-14.45],[-1.65,-14.25],[-1.75,-14.15],[-1.85,-14.05],[-2.05,-13.85],[-2.15,-13.75],[-2.25,-13.55],[-2.35,-13.45],[-2.55,-13.25],[-2.65,-13.15],[-2.75,-13.05],[-2.85,-12.95],[-2.95,-12.85],[-3.05,-12.65],[-3.15,-12.55],[-3.25,-12.55],[-3.45,-12.35],[-3.55,-12.15],[-3.65,-12.05],[-3.75,-11.85],[-3.85,-11.75],[-3.95,-11.65],[-3.95,-11.55],[-4.05,-11.45],[-4.05,-11.35],[-4.15,-11.25],[-4.15,-11.05],[-4.25,-10.95],[-4.35,-10.75],[-4.35,-10.65],[-4.45,-10.55],[-4.55,-10.45],[-4.65,-10.35],[-4.75,-10.25],[-4.85,-10.25],[-4.95,-10.15],[-5.05,-9.95],[-5.05,-9.85],[-5.15,-9.85],[-5.25,-9.75],[-5.25,-9.65],[-5.35,-9.65],[-5.45,-9.55],[-5.65,-9.25],[-5.75,-9.15],[-5.85,-8.95],[-6.05,-8.75],[-6.25,-8.65],[-6.35,-8.55],[-6.55,-8.45],[-6.75,-8.35],[-6.95,-8.25],[-7.25,-8.15],[-7.55,-8.05],[-7.75,-7.95],[-7.85,-7.75],[-8.05,-7.65],[-8.25,-7.45],[-8.55,-7.25],[-8.85,-7.05],[-8.95,-6.95],[-9.15,-6.85],[-9.45,-6.75],[-9.65,-6.55],[-9.85,-6.45],[-10.15,-6.25],[-10.45,-6.15],[-10.75,-5.95],[-11.05,-5.75],[-11.35,-5.65],[-11.65,-5.45],[-11.95,-5.25],[-12.25,-5.05],[-12.45,-4.95],[-12.65,-4.75],[-12.85,-4.55],[-13.15,-4.25],[-13.35,-3.85],[-13.45,-3.45],[-13.55,-3.25],[-13.55,-3.25],[-13.65,-3.05],[-13.75,-2.95],[-13.85,-2.75],[-13.95,-2.65],[-14.15,-2.35],[-14.55,-1.85],[-14.95,-1.25],[-15.45,-0.85],[-15.85,-0.55],[-16.25,-0.25],[-16.55,0.05],[-16.85,0.45],[-17.15,0.85],[-17.45,1.25],[-17.75,1.65],[-18.05,2.35],[-18.25,2.95],[-18.45,3.25],[-18.55,3.55],[-18.75,3.75],[-18.85,3.95],[-18.95,4.15],[-19.05,4.35],[-19.15,4.45],[-19.35,4.65],[-19.45,4.95],[-19.45,5.05],[-19.55,5.15],[-19.55,5.25],[-19.65,5.65],[-19.75,6.15],[-19.95,6.95],[-20.15,7.85],[-20.35,8.95],[-20.45,9.65],[-20.55,10.25],[-20.65,10.75],[-20.65,11.05],[-20.65,11.35],[-20.75,11.75],[-20.75,12.15],[-20.85,12.45],[-20.85,12.85],[-20.85,13.25],[-20.85,13.65],[-20.85,13.95],[-20.85,14.45],[-20.85,14.75],[-20.85,15.15],[-20.85,15.35],[-20.85,15.55],[-20.85,15.75],[-20.85,15.85],[-20.85,16.05],[-20.85,16.35],[-20.75,16.55],[-20.75,16.75],[-20.75,17.05],[-20.75,17.25],[-20.65,17.45],[-20.65,17.65],[-20.55,17.75],[-20.45,17.95],[-20.35,18.15],[-20.25,18.25],[-20.25,18.35],[-20.05,18.55],[-19.95,18.65],[-19.85,18.75],[-19.75,18.85],[-19.55,18.95],[-19.45,19.05],[-19.25,19.15],[-19.05,19.35],[-18.85,19.35],[-18.55,19.45],[-18.35,19.65],[-17.95,19.95],[-17.55,20.05],[-17.25,20.05],[-17.05,20.15],[-16.75,20.15],[-16.45,20.25],[-16.25,20.25],[-16.05,20.25],[-15.75,20.35],[-15.55,20.35],[-15.35,20.35],[-15.15,20.45],[-14.75,20.55],[-14.35,20.55],[-13.95,20.55],[-13.75,20.45],[-13.35,20.45],[-13.15,20.35],[-12.95,20.35],[-12.75,20.35],[-12.45,20.35],[-12.25,20.35],[-12.05,20.35],[-11.85,20.25],[-11.65,20.25],[-11.45,20.25],[-11.25,20.15],[-10.95,20.15],[-10.65,20.05],[-10.45,19.95],[-10.15,19.95],[-9.65,19.85],[-9.15,19.75],[-8.75,19.65],[-8.45,19.65],[-8.25,19.55],[-8.05,19.45],[-7.85,19.35],[-7.65,19.25],[-7.45,19.15],[-7.25,19.05],[-7.05,19.05],[-6.95,18.95],[-6.75,18.85],[-6.55,18.65],[-6.35,18.55],[-6.15,18.45],[-6.05,18.35],[-5.85,18.15],[-5.75,18.05],[-5.55,17.95],[-5.45,17.85],[-5.15,17.65],[-4.95,17.45],[-4.85,17.25],[-4.65,17.15],[-4.45,16.95],[-4.25,16.85],[-4.15,16.75],[-3.95,16.65],[-3.75,16.45],[-3.55,16.35],[-3.35,16.35],[-3.25,16.25],[-3.15,16.05],[-2.95,15.85],[-2.85,15.55],[-2.65,15.35],[-2.65,15.25],[-2.55,15.05],[-2.45,14.95],[-2.35,14.75],[-2.35,14.55],[-2.25,14.45],[-2.25,14.25],[-2.15,14.15],[-2.05,13.95],[-1.95,13.75],[-1.95,13.55],[-1.85,13.35],[-1.75,13.15],[-1.75,12.95],[-1.75,12.85],[-1.75,12.75],[-1.75,12.65],[-1.65,12.55],[-1.65,12.45],[-1.55,12.35],[-1.55,12.25],[-1.55,12.25],[-1.55,12.15],[-1.55,12.05],[-1.45,12.05],[-1.45,11.95],[-1.45,11.95],[-1.45,11.85],[-1.45,11.85],[-1.35,11.75],[-1.35,11.75],[-1.35,11.75],[-1.25,11.75],[-1.25,11.65],[-1.25,11.65],[-1.25,11.65],[-1.15,11.65],[-1.15,11.65],[-1.15,11.65],[-1.05,11.65],[-1.05,11.65],[-0.95,11.55],[-0.95,11.55],[-0.85,11.55],[-0.85,11.45],[-0.75,11.45],[-0.75,11.45],[-0.65,11.45],[-0.55,11.35],[-0.55,11.15],[-0.45,11.05],[-0.35,10.95],[-0.35,10.85],[-0.25,10.75],[-0.25,10.65],[-0.15,10.55],[-0.05,10.45],[-0.05,10.35],[-0.05,10.35],[-0.05,10.25],[-0.05,10.25],[-0.05,10.15],[-0.05,10.15],[-0.05,10.05],[0.05,9.95],[0.05,9.85],[0.15,9.85],[0.15,9.85]]')
        // let nl = [[-2,-2],[2,-2],[2,2],[-2,2],[-2,-2]];
        let nl = JSON.parse('[[0.00,5.01],[0.00,5.02],[0.00,5.06],[0.01,5.10],[0.01,5.15],[0.02,5.22],[0.03,5.30],[0.04,5.39],[0.06,5.49],[0.08,5.61],[0.11,5.73],[0.14,5.86],[0.18,6.00],[0.23,6.15],[0.28,6.31],[0.34,6.48],[0.40,6.65],[0.47,6.83],[0.55,7.02],[0.64,7.21],[0.74,7.41],[0.84,7.61],[0.95,7.81],[1.08,8.02],[1.21,8.22],[1.35,8.43],[1.50,8.64],[1.66,8.85],[1.82,9.05],[2.00,9.26],[2.19,9.46],[2.38,9.66],[2.58,9.85],[2.80,10.04],[3.02,10.22],[3.25,10.40],[3.49,10.57],[3.73,10.73],[3.99,10.88],[4.25,11.03],[4.52,11.17],[4.79,11.29],[5.08,11.41],[5.36,11.51],[5.66,11.61],[5.96,11.69],[6.26,11.76],[6.57,11.82],[6.88,11.86],[7.19,11.90],[7.51,11.92],[7.83,11.92],[8.15,11.92],[8.47,11.90],[8.79,11.86],[9.12,11.82],[9.44,11.76],[9.76,11.69],[10.08,11.60],[10.39,11.50],[10.70,11.39],[11.01,11.26],[11.32,11.13],[11.62,10.98],[11.91,10.81],[12.20,10.64],[12.48,10.45],[12.75,10.26],[13.02,10.05],[13.28,9.83],[13.52,9.61],[13.76,9.37],[13.99,9.13],[14.21,8.87],[14.42,8.61],[14.62,8.34],[14.80,8.06],[14.97,7.78],[15.13,7.49],[15.28,7.19],[15.42,6.89],[15.54,6.58],[15.64,6.27],[15.74,5.95],[15.82,5.64],[15.88,5.31],[15.93,4.99],[15.97,4.66],[15.99,4.33],[16.00,4.00],[15.99,3.67],[15.97,3.33],[15.93,3.00],[15.88,2.67],[15.82,2.33],[15.74,2.00],[15.64,1.67],[15.54,1.34],[15.42,1.00],[15.28,0.67],[15.13,0.35],[14.97,0.02],[14.80,-0.30],[14.62,-0.63],[14.42,-0.95],[14.21,-1.27],[13.99,-1.58],[13.76,-1.90],[13.52,-2.21],[13.28,-2.52],[13.02,-2.83],[12.75,-3.14],[12.48,-3.44],[12.20,-3.74],[11.91,-4.04],[11.62,-4.33],[11.32,-4.63],[11.01,-4.92],[10.70,-5.21],[10.39,-5.50],[10.08,-5.79],[9.76,-6.07],[9.44,-6.35],[9.12,-6.63],[8.79,-6.91],[8.47,-7.19],[8.15,-7.46],[7.83,-7.74],[7.51,-8.01],[7.19,-8.28],[6.88,-8.55],[6.57,-8.82],[6.26,-9.08],[5.96,-9.34],[5.66,-9.61],[5.36,-9.87],[5.08,-10.12],[4.79,-10.38],[4.52,-10.64],[4.25,-10.89],[3.99,-11.14],[3.73,-11.38],[3.49,-11.63],[3.25,-11.87],[3.02,-12.11],[2.80,-12.35],[2.58,-12.58],[2.38,-12.81],[2.19,-13.04],[2.00,-13.26],[1.82,-13.48],[1.66,-13.69],[1.50,-13.90],[1.35,-14.10],[1.21,-14.30],[1.08,-14.50],[0.95,-14.69],[0.84,-14.87],[0.74,-15.05],[0.64,-15.22],[0.55,-15.38],[0.47,-15.54],[0.40,-15.69],[0.34,-15.84],[0.28,-15.97],[0.23,-16.10],[0.18,-16.22],[0.14,-16.33],[0.11,-16.44],[0.08,-16.53],[0.06,-16.62],[0.04,-16.70],[0.03,-16.77],[0.02,-16.83],[0.01,-16.88],[0.01,-16.92],[0.00,-16.96],[0.00,-16.98],[0.00,-17.00],[0.00,-17.00],[-0.00,-17.00],[-0.00,-16.98],[-0.00,-16.96],[-0.01,-16.92],[-0.01,-16.88],[-0.02,-16.83],[-0.03,-16.77],[-0.04,-16.70],[-0.06,-16.62],[-0.08,-16.53],[-0.11,-16.44],[-0.14,-16.33],[-0.18,-16.22],[-0.23,-16.10],[-0.28,-15.97],[-0.34,-15.84],[-0.40,-15.69],[-0.47,-15.54],[-0.55,-15.38],[-0.64,-15.22],[-0.74,-15.05],[-0.84,-14.87],[-0.95,-14.69],[-1.08,-14.50],[-1.21,-14.30],[-1.35,-14.10],[-1.50,-13.90],[-1.66,-13.69],[-1.82,-13.48],[-2.00,-13.26],[-2.19,-13.04],[-2.38,-12.81],[-2.58,-12.58],[-2.80,-12.35],[-3.02,-12.11],[-3.25,-11.87],[-3.49,-11.63],[-3.73,-11.38],[-3.99,-11.14],[-4.25,-10.89],[-4.52,-10.64],[-4.79,-10.38],[-5.08,-10.12],[-5.36,-9.87],[-5.66,-9.61],[-5.96,-9.34],[-6.26,-9.08],[-6.57,-8.82],[-6.88,-8.55],[-7.19,-8.28],[-7.51,-8.01],[-7.83,-7.74],[-8.15,-7.46],[-8.47,-7.19],[-8.79,-6.91],[-9.12,-6.63],[-9.44,-6.35],[-9.76,-6.07],[-10.08,-5.79],[-10.39,-5.50],[-10.70,-5.21],[-11.01,-4.92],[-11.32,-4.63],[-11.62,-4.33],[-11.91,-4.04],[-12.20,-3.74],[-12.48,-3.44],[-12.75,-3.14],[-13.02,-2.83],[-13.28,-2.52],[-13.52,-2.21],[-13.76,-1.90],[-13.99,-1.58],[-14.21,-1.27],[-14.42,-0.95],[-14.62,-0.63],[-14.80,-0.30],[-14.97,0.02],[-15.13,0.35],[-15.28,0.67],[-15.42,1.00],[-15.54,1.34],[-15.64,1.67],[-15.74,2.00],[-15.82,2.33],[-15.88,2.67],[-15.93,3.00],[-15.97,3.33],[-15.99,3.67],[-16.00,4.00],[-15.99,4.33],[-15.97,4.66],[-15.93,4.99],[-15.88,5.31],[-15.82,5.64],[-15.74,5.95],[-15.64,6.27],[-15.54,6.58],[-15.42,6.89],[-15.28,7.19],[-15.13,7.49],[-14.97,7.78],[-14.80,8.06],[-14.62,8.34],[-14.42,8.61],[-14.21,8.87],[-13.99,9.13],[-13.76,9.37],[-13.52,9.61],[-13.28,9.83],[-13.02,10.05],[-12.75,10.26],[-12.48,10.45],[-12.20,10.64],[-11.91,10.81],[-11.62,10.98],[-11.32,11.13],[-11.01,11.26],[-10.70,11.39],[-10.39,11.50],[-10.08,11.60],[-9.76,11.69],[-9.44,11.76],[-9.12,11.82],[-8.79,11.86],[-8.47,11.90],[-8.15,11.92],[-7.83,11.92],[-7.51,11.92],[-7.19,11.90],[-6.88,11.86],[-6.57,11.82],[-6.26,11.76],[-5.96,11.69],[-5.66,11.61],[-5.36,11.51],[-5.08,11.41],[-4.79,11.29],[-4.52,11.17],[-4.25,11.03],[-3.99,10.88],[-3.73,10.73],[-3.49,10.57],[-3.25,10.40],[-3.02,10.22],[-2.80,10.04],[-2.58,9.85],[-2.38,9.66],[-2.19,9.46],[-2.00,9.26],[-1.82,9.05],[-1.66,8.85],[-1.50,8.64],[-1.35,8.43],[-1.21,8.22],[-1.08,8.02],[-0.95,7.81],[-0.84,7.61],[-0.74,7.41],[-0.64,7.21],[-0.55,7.02],[-0.47,6.83],[-0.40,6.65],[-0.34,6.48],[-0.28,6.31],[-0.23,6.15],[-0.18,6.00],[-0.14,5.86],[-0.11,5.73],[-0.08,5.61],[-0.06,5.49],[-0.04,5.39],[-0.03,5.30],[-0.02,5.22],[-0.01,5.15],[-0.01,5.10],[-0.00,5.06],[-0.00,5.02],[-0.00,5.01],[-0.00,5.00],[0.00,5.01]]')
        let arr = [];

        // console.log(nl.length,00)

        for(let i=0;i<nl.length;++i){
            let c = new Complex(nl[i][0] / nl.length,nl[i][1] / nl.length);
            // console.log(c.normalize())
            arr.push(
                c
            )
        }
        // console.log(nl);

        let transform = dft(arr);
        console.log(transform)

        let N = transform.length;
        let circles = [];
        let lines = []
        let flag = false;
        let points = [];
        // let i = 0;
        setInterval(() => {
            let s = new Complex(0,0);
            
            for(let i=0;i<N;++i){
                let j = i;
                let c = transform[i].mul(eulor(2 * Math.PI * j / N));

                if(flag == false){
                    let circle = new Circle(s.r,s.i,c.mod(),{
                        borderColor:Color.BLACK2,
                        borderWidth:4
                    });
                    let line = new Line([s.toVector(),s.add(c).toVector()],{
                        borderColor:Color.BLACK6,
                        borderWidth:4
                    });
                    painter.add(line);
                    painter.add(circle);
                    circles.push(circle);
                    lines.push(line);
                    
                }else{
                    circles[i].center = new Vector(s.r,s.i);
                    lines[i].points = [s.toVector(),s.add(c).toVector()]
                }
                
                s = s.add(c);
                transform[i] = c;
            }
            if(points.length < N - 1)
             points.push(s.toVector())
            // console.log(transform)
            flag = true;
        }, 10);

        
        let polygon = new Line(points,{
            borderColor:Color.RED,
            borderWidth:4
        })


        painter.add(polygon);
     
        let a1 = []
        let a = []
        let line = new Line(a1)

            painter.on('mousemove',function(ev){
                if(this.mousePress){
                    let ar = `[${ev.x},${ev.y}]`;
                    a.push(ar);
                    a1.push(ev);
                    console.log(ev)
                }
            })
        window.a = a;

        painter.add(line);

            /*
                x(t)=a(2cost-cos2t)

                y(t)=a(2sint-sin2t)
            */
// let t = 0;
// let w = 2;
// let heartPoints = []

// let t = 0

// setInterval(() => {
//     if(t < 2 * Math.PI){
//         t += Math.PI / 180;
//         let x = (16 * Math.pow(Math.sin(t),3)).toFixed(2);
//         let y = (13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t)).toFixed(2) ;
//         heartPoints.push(
//             new Vector(x,y)
//         )
//         a.push(`[${x},${y}]`)
//     }
// },10)

// console.log(heartPoints)
//             let heart = new Line(heartPoints);

//             painter.add(heart);



        painter.loopRender();
    </script>
</body>
</html>
